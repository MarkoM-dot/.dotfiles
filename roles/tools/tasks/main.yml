- name: Check if curl is installed
  shell: curl --version
  register: curl_exists 
  ignore_errors: yes
 
- name: Download curl
  when: curl_exists is failed
  ansible.builtin.package:
    name: curl
    state: latest

- name: Check apt availability
  ansible.builtin.command: apt --version
  register: apt_available
  ignore_errors: yes

- name: Download build-essential
  when: apt_available.rc == 0
  ansible.builtin.package:
    name: build-essential
    state: latest

- name: Download cmake
  ansible.builtin.package:
    name: cmake
    state: latest

- name: Download gcc-c++
  ansible.builtin.package:
    name: gcc-c++
    state: latest
